<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Prabhakar 777 â€” Mines Prediction Tool</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;800;900&family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --gold-1:#F7D774;
      --gold-2:#E6B34B;
      --gold-3:#C9962A;
      --deep:#0A0B10;
      --tile:#0D1020;
      --success:#2ff08a;
      --pink:#ff72c6;
    }
    body{
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(247,215,116,0.08), transparent 50%),
        radial-gradient(1000px 500px at 90% 0%, rgba(255,114,198,0.06), transparent 50%),
        linear-gradient(180deg, #080910 0%, #0A0B10 40%, #0A0B10 100%);
      color:#e8eaef;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }
    .gold-gradient{
      background: linear-gradient(92deg, var(--gold-1) 0%, var(--gold-2) 45%, var(--gold-3) 85%, #fff7c4 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      filter: drop-shadow(0 2px 14px rgba(230,179,75,0.35));
    }
    .glass-gold{
      background: linear-gradient(180deg, rgba(20,22,36,0.9) 0%, rgba(12,14,24,0.9) 100%);
      border: 1px solid rgba(247,215,116,0.25);
      box-shadow:
        0 0 0 1px rgba(255,255,255,0.02) inset,
        0 8px 28px rgba(0,0,0,0.5);
      backdrop-filter: blur(6px);
    }
    .btn-gold{
      background: linear-gradient(180deg, #17192A 0%, #0F1122 100%);
      border: 1px solid rgba(247,215,116,0.55);
      color: var(--gold-1);
      transition: all .25s ease;
      box-shadow: 0 0 0 rgba(247,215,116,0);
    }
    .btn-gold:hover{
      border-color: rgba(247,215,116,0.95);
      color: #fff6c7;
      box-shadow: 0 0 22px rgba(247,215,116,0.35), inset 0 0 10px rgba(247,215,116,0.12);
      transform: translateY(-1px);
    }
    .btn-ghost{
      background: linear-gradient(180deg, #141626, #0E1020);
      border: 1px dashed rgba(247,215,116,0.45);
      color: var(--gold-1);
    }
    /* Tiles */
    .tile{
      position: relative;
      background: radial-gradient(140% 140% at 30% 20%, #16192B 0%, #0D1020 55%, #0A0C18 100%);
      border: 2px solid rgba(247,215,116,0.35);
      transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease, background .18s ease;
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,0.02),
        0 6px 16px rgba(0,0,0,0.45),
        0 0 22px rgba(247,215,116,0.06);
      overflow: hidden;
      touch-action: manipulation; /* better mobile taps */
    }
    .tile:hover{
      border-color: rgba(247,215,116,0.55);
      transform: translateY(-2px);
      box-shadow:
        inset 0 0 0 1px rgba(247,215,116,0.12),
        0 10px 26px rgba(247,215,116,0.20),
        0 0 28px rgba(247,215,116,0.10);
    }
    .tile.open-safe{
      background: radial-gradient(120% 120% at 50% 30%, rgba(47,240,138,0.12) 0%, rgba(247,215,116,0.12) 55%, rgba(15,18,32,0.9) 100%);
      border-color: rgba(47,240,138,0.9);
      box-shadow:
        0 0 24px rgba(47,240,138,0.45),
        0 0 60px rgba(247,215,116,0.18),
        inset 0 0 18px rgba(47,240,138,0.28);
      animation: safePulse 1.4s ease-out 1;
    }
    @keyframes safePulse{
      0% { box-shadow: 0 0 0 rgba(47,240,138,0.0), 0 0 0 rgba(247,215,116,0.0), inset 0 0 0 rgba(47,240,138,0.0); }
      40% { box-shadow: 0 0 28px rgba(47,240,138,0.55), 0 0 80px rgba(247,215,116,0.25), inset 0 0 22px rgba(47,240,138,0.32); }
      100% { box-shadow: 0 0 24px rgba(47,240,138,0.45), 0 0 60px rgba(247,215,116,0.18), inset 0 0 18px rgba(47,240,138,0.28); }
    }
    .tile.open-mine{
      background: radial-gradient(120% 120% at 50% 30%, rgba(255,114,198,0.18) 0%, rgba(255,158,217,0.12) 45%, rgba(15,18,32,0.9) 100%);
      border-color: rgba(255,114,198,0.9);
      box-shadow: 0 0 28px rgba(255,114,198,0.40), inset 0 0 22px rgba(255,114,198,0.28);
    }
    .pink-glow{
      filter: drop-shadow(0 0 18px rgba(255,114,198,0.8)) drop-shadow(0 0 36px rgba(255,114,198,0.45));
    }
    .tile-watermark{
      opacity: 0.2;
      transform: scale(1.15);
      pointer-events: none;
    }
    .range::-webkit-slider-thumb{
      background: linear-gradient(180deg, #FFF2AA, #E6B34B);
      border: 1px solid rgba(255,255,255,0.35);
    }
    /* Mobile-friendly sizing */
    #board{
      max-width: 520px;
      margin-left: auto;
      margin-right: auto;
    }
    @media (max-width: 640px){
      #board .tile{ min-height: 62px; } /* bigger tap targets on phones */
    }
  </style>
</head>
<body class="min-h-screen">

  <!-- Welcome Overlay (keeps it simple; not a login) -->
  <div id="accessOverlay" class="fixed inset-0 z-50 flex items-center justify-center p-6 bg-[rgba(6,7,12,0.8)] backdrop-blur-sm">
    <div class="glass-gold rounded-2xl p-6 sm:p-8 max-w-md w-full text-center">
      <h2 class="text-3xl sm:text-4xl font-black gold-gradient" style="font-family:'Playfair Display', serif;">Welcome my friends</h2>
      <p class="mt-2 text-xs text-slate-300/80">This is a simple welcome screen, not an account login.</p>
      <button id="accessContinue" class="mt-5 w-full px-5 py-3 rounded-2xl btn-gold font-extrabold">Continue</button>
    </div>
  </div>

  <div class="max-w-6xl mx-auto px-5 py-8 sm:py-12">
    <!-- Header -->
    <header class="text-center mb-8 sm:mb-12">
      <p class="gold-gradient text-xl sm:text-2xl font-semibold tracking-wide uppercase">Welcome my friends</p>
      <h1 class="mt-2 text-4xl sm:text-5xl lg:text-6xl font-black gold-gradient" style="font-family:'Playfair Display', serif;">
        Prabhakar <span class="whitespace-nowrap">777</span>
      </h1>
      <p id="greetLine" class="mt-3 sm:mt-4 text-slate-300/85 max-w-2xl mx-auto">
        Premium Mines Prediction Tool. Only safe tiles auto-open. ðŸ’Ž
      </p>

      <!-- Telegram -->
      <div class="mt-6">
        <a href="https://t.me/+WeLgtKH5Qsg1MjU1" target="_blank" rel="noopener noreferrer"
           class="inline-flex items-center gap-2 px-5 py-3 rounded-xl btn-gold">
          <svg width="18" height="18" viewBox="0 0 24 24" class="text-yellow-200" fill="currentColor" aria-hidden="true">
            <path d="M9.031 14.646l-.375 5.289c.537 0 .768-.23 1.045-.506l2.51-2.41 5.199 3.804c.953.537 1.633.254 1.892-.879l3.43-16.072.001-.001c.304-1.418-.512-1.973-1.439-1.629l-20.014 7.7c-1.366.537-1.345 1.307-.232 1.653l5.116 1.595 11.9-7.503c.56-.375 1.072-.167.651.208"/>
          </svg>
          <span class="font-semibold">Join Telegram Channel</span>
        </a>
      </div>
    </header>

    <!-- Controls -->
    <section class="glass-gold rounded-2xl p-5 sm:p-6 mb-8">
      <div class="flex flex-col md:flex-row md:items-end gap-5">
        <div class="flex-1">
          <label for="mineRange" class="block text-sm font-semibold tracking-wide text-yellow-200/95 mb-2">
            Select number of mines (1â€“24)
          </label>
          <div class="flex items-center gap-4">
            <input id="mineRange" type="range" min="1" max="24" value="3" class="w-full accent-yellow-300">
            <input id="mineNumber" type="number" min="1" max="24" value="3"
                   class="w-24 text-center rounded-lg bg-[#0c0f1c] border border-yellow-200/30 text-yellow-100 py-3 font-semibold focus:outline-none focus:ring-2 focus:ring-yellow-300/50">
          </div>
          <p id="ruleHint" class="mt-2 text-xs text-slate-300/80">
            Auto-prediction: 1 mine â†’ opens 4 safe tiles; 2 mines â†’ 5; 3 mines â†’ 4.
          </p>
          <div class="mt-4">
            <label for="siteUrl" class="block text-sm font-semibold tracking-wide text-yellow-200/95 mb-2">Activate website link</label>
            <div class="flex gap-3">
              <input id="siteUrl" type="url" placeholder="Paste your website link (https://...)" class="flex-1 rounded-xl px-4 py-3 bg-[#0c0f1c] border border-yellow-200/30 text-yellow-100 focus:outline-none focus:ring-2 focus:ring-yellow-300/50">
              <button id="activateSite" class="px-4 py-3 rounded-xl btn-ghost font-semibold whitespace-nowrap">Activate</button>
            </div>
            <p id="siteMsg" class="mt-2 text-xs text-emerald-300/90 hidden">Tools activated for your website.</p>
          </div>
        </div>
        <div class="w-full md:w-60">
          <button id="startBtn" class="w-full px-5 py-3 rounded-2xl btn-gold font-extrabold text-lg tracking-wide">
            Start Prediction
          </button>
          <p class="mt-2 text-[11px] text-slate-300/70 text-center">Mines are placed randomly each game.</p>
        </div>
        <div class="w-full md:w-44">
          <button id="resetBtn" class="w-full px-4 py-3 rounded-2xl btn-ghost font-semibold">Reset Board</button>
        </div>
      </div>
    </section>

    <!-- Status -->
    <section class="grid gap-4 sm:grid-cols-3 mb-8">
      <div class="glass-gold rounded-xl p-4">
        <p class="text-xs text-slate-300/70">Mines</p>
        <p id="statusMines" class="mt-1 text-2xl font-extrabold gold-gradient">3</p>
      </div>
      <div class="glass-gold rounded-xl p-4">
        <p class="text-xs text-slate-300/70">Safe opened</p>
        <p id="statusSafe" class="mt-1 text-2xl font-extrabold text-emerald-300">0</p>
      </div>
      <div class="glass-gold rounded-xl p-4">
        <p class="text-xs text-slate-300/70">State</p>
        <p id="statusState" class="mt-1 text-2xl font-extrabold gold-gradient">Idle</p>
      </div>
    </section>

    <!-- Board -->
    <section class="glass-gold rounded-2xl p-4 sm:p-6 border border-yellow-300/30">
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-lg sm:text-xl font-extrabold gold-gradient">Prediction Grid (5 Ã— 5)</h2>
        <div class="text-xs sm:text-sm text-slate-300/80">Only safe tiles open automatically.</div>
      </div>
      <div id="board" class="grid grid-cols-5 gap-2 sm:gap-3 md:gap-4 lg:gap-5"></div>
      <div id="message" class="mt-5 text-sm sm:text-base text-slate-200/90"></div>
    </section>

    <footer class="mt-10 text-center text-xs text-slate-400/70">
      Tip: After auto-prediction, you can manually tap more tiles. Mines appear as pink glowing diamonds only if you hit one.
    </footer>
  </div>

  <script>
    // Config
    const size = 5;
    const total = size * size;

    // State
    let mineCount = 3;
    let mines = new Set();
    let opened = new Set();
    let gameActive = false;

    // Elements
    const boardEl = document.getElementById('board');
    const messageEl = document.getElementById('message');
    const startBtn = document.getElementById('startBtn');
    const resetBtn = document.getElementById('resetBtn');
    const minesRange = document.getElementById('mineRange');
    const minesNumber = document.getElementById('mineNumber');
    const statusMines = document.getElementById('statusMines');
    const statusSafe = document.getElementById('statusSafe');
    const statusState = document.getElementById('statusState');
    const ruleHint = document.getElementById('ruleHint');
    const accessOverlay = document.getElementById('accessOverlay');
    const accessContinue = document.getElementById('accessContinue');

    // SVGs
    function diamondSVG(){
      return `
        <svg class="pink-glow" width="32" height="32" viewBox="0 0 64 64" aria-hidden="true">
          <defs>
            <linearGradient id="gPink" x1="0" y1="0" x2="1" y2="1">
              <stop offset="0%" stop-color="#ff9ed9"/>
              <stop offset="55%" stop-color="#ff72c6"/>
              <stop offset="100%" stop-color="#ff49b6"/>
            </linearGradient>
          </defs>
          <g transform="translate(2,2)">
            <polygon points="30,2 46,16 56,28 30,58 4,28 14,16" fill="url(#gPink)" stroke="#ffb1e1" stroke-width="2" />
            <polyline points="14,16 30,34 46,16" fill="none" stroke="#ffd1ee" stroke-width="1.6" opacity="0.85"/>
            <line x1="30" y1="2" x2="30" y2="34" stroke="#ffe5f5" stroke-width="1.4" opacity="0.85"/>
          </g>
        </svg>
      `;
    }
    function diamondWatermark(){
      return `
        <svg class="tile-watermark" width="28" height="28" viewBox="0 0 64 64" aria-hidden="true">
          <g transform="translate(2,2)">
            <polygon points="30,2 46,16 56,28 30,58 4,28 14,16" fill="#ffdca5" />
          </g>
        </svg>
      `;
    }

    // Build board (no numbers)
    function buildBoard(){
      boardEl.innerHTML = '';
      for(let i = 0; i < total; i++){
        const btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'tile rounded-xl aspect-square flex items-center justify-center text-base sm:text-lg font-bold text-yellow-100/90 select-none';
        btn.dataset.idx = i.toString();
        btn.setAttribute('aria-label', 'Hidden tile');
        btn.innerHTML = `
          <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
            ${diamondWatermark()}
          </div>
        `;
        btn.addEventListener('click', () => onTileClick(i));
        boardEl.appendChild(btn);
      }
      updateOpenedVisuals();
    }

    // Refresh visuals
    function updateOpenedVisuals(){
      const children = boardEl.children;
      for(let i = 0; i < children.length; i++){
        const el = children[i];
        el.classList.remove('open-safe', 'open-mine');
        const idx = parseInt(el.dataset.idx, 10);
        if(opened.has(idx)){
          if(mines.has(idx)){
            el.classList.add('open-mine');
            el.innerHTML = `${diamondSVG()}`;
          }else{
            el.classList.add('open-safe');
            el.innerHTML = `<span class="text-emerald-200 font-extrabold drop-shadow-[0_0_8px_rgba(45,240,130,0.5)]">SAFE</span>`;
          }
        } else {
          el.innerHTML = `
            <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
              ${diamondWatermark()}
            </div>
          `;
        }
      }
      statusSafe.textContent = [...opened].filter(x => !mines.has(x)).length.toString();
    }

    // Utils
    function shuffle(arr){
      for(let i = arr.length - 1; i > 0; i--){
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
    }
    function randomMines(count){
      const set = new Set();
      while(set.size < count){
        const r = Math.floor(Math.random() * total);
        set.add(r);
      }
      return set;
    }
    function getSafeCandidates(){
      const list = [];
      for(let i = 0; i < total; i++){
        if(!mines.has(i) && !opened.has(i)) list.push(i);
      }
      return list;
    }
    function autoOpenSafeTiles(n){
      const candidates = getSafeCandidates();
      shuffle(candidates);
      const picks = candidates.slice(0, Math.min(n, candidates.length));
      for(const p of picks) opened.add(p);
      updateOpenedVisuals();
    }

    // Start prediction
    function startPrediction(){
      gameActive = true;
      opened = new Set();
      mines = randomMines(mineCount);
      statusMines.textContent = String(mineCount);
      statusState.textContent = 'Predicting';
      buildBoard();

      const ruleMap = {1:4, 2:5, 3:4};
      const openCount = ruleMap[mineCount] ?? 2;
      autoOpenSafeTiles(openCount);

      if(ruleMap[mineCount]){
        showMessage(`Auto-opened ${openCount} safe tile(s) based on ${mineCount} mine(s).`);
      }else{
        showMessage(`Carefully auto-opened ${openCount} safe tile(s). You can continue manually.`);
      }
      statusState.textContent = 'Active';
    }

    function showMessage(txt){
      messageEl.innerHTML = txt
        ? `<div class="glass-gold rounded-xl p-4 text-sm"><span class="gold-gradient font-semibold">Info:</span> ${txt}</div>`
        : '';
    }

    // Click tile
    function onTileClick(idx){
      if(!gameActive){
        showMessage('Click Start Prediction to begin.');
        return;
      }
      if(opened.has(idx)) return;

      opened.add(idx);
      updateOpenedVisuals();

      if(mines.has(idx)){
        showMessage('Mine revealed! The pink diamond marks a mine. Keep predicting carefully.');
      }
    }

    // Reset
    function resetBoard(){
      gameActive = false;
      opened.clear();
      mines.clear();
      statusSafe.textContent = '0';
      statusState.textContent = 'Idle';
      buildBoard();
      showMessage('Board reset. Choose mines and press Start Prediction.');
    }

    // Sync inputs
    function syncMines(value){
      let v = parseInt(value, 10);
      if(isNaN(v)) v = 1;
      v = Math.max(1, Math.min(total - 1, v)); // 1..24
      mineCount = v;
      minesRange.value = String(v);
      minesNumber.value = String(v);
      statusMines.textContent = String(v);

      if(v >= 1 && v <= 3){
        ruleHint.textContent = 'Auto-prediction: 1 mine â†’ opens 4 safe tiles; 2 mines â†’ 5; 3 mines â†’ 4.';
      }else{
        ruleHint.textContent = 'Auto-prediction will still open only safe tiles carefully for this selection.';
      }
    }

    // Events
    startBtn.addEventListener('click', startPrediction);
    resetBtn.addEventListener('click', resetBoard);
    minesRange.addEventListener('input', (e)=> syncMines(e.target.value));
    minesNumber.addEventListener('input', (e)=> syncMines(e.target.value));

    // Simple welcome overlay
    accessContinue.addEventListener('click', () => {
      accessOverlay.style.display = 'none';
    });

    // Link activation
    const activateBtn = document.getElementById('activateSite');
    const siteUrlInput = document.getElementById('siteUrl');
    const siteMsg = document.getElementById('siteMsg');
    if(activateBtn){
      activateBtn.addEventListener('click', () => {
        const url = (siteUrlInput.value || '').trim();
        const valid = /^https?:\/\//i.test(url);
        if(valid){
          siteMsg.textContent = 'Active tools enabled for: ' + url;
          siteMsg.classList.remove('hidden');
          siteMsg.classList.add('text-emerald-300');
          showMessage('Website linked. Active tools are now enabled.');
        }else{
          siteMsg.textContent = 'Please paste a valid https:// link to activate.';
          siteMsg.classList.remove('hidden');
          siteMsg.classList.remove('text-emerald-300');
          siteMsg.classList.add('text-red-300');
        }
      });
    }

    // Init
    (function init(){
      buildBoard();
      syncMines(mineCount);
      showMessage('Select mines, then press Start Prediction. The tool will auto-open only safe tiles.');
    })();
  </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97f7c0c456ad5917',t:'MTc1NzkzNTQxNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
